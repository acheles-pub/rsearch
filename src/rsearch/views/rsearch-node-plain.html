<div class="body {{node._liquidate ? 'liquidate' : null}}" node-id="{{node._id}}" ng-click="toggleSelect()">
    <div ng-if="node._type === 'COMPANY'">
        <div class="row">
            <div class="span6 node-header">{{node.nameshortsort}}</div>
            <div class="align-right"><span class="small-text">${_tr("основано")}</span> {{node.founded_dt | date:'mediumDate'}}</div>
        </div>
        <div class="row node-entry liquidate-state">
            <div class="span6">{{node._liquidate.state.type}}</div>
            <div class="align-right">{{node._liquidate.state._since | date:'mediumDate'}}</div>
        </div>
        <div class="node-entry" ng-show="node.name_diff">{{node.namesort}}</div>
        <div class="node-entry">{{node | OKVED}}</div>
        <div class="node-entry"><i class="icon i-user small {{node.chief_gender}}"></i> {{node.chief_name}}</div>
        <div class="node-entry"><i class="icon i-map-marker small"></i> {{node.addresssort}}</div>
        <ul class="inline">
            <li ng-show="node.ogrn"><span class="small-text">${_tr("ОГРН")}</span> {{node.ogrn}}</li>
            <li ng-show="node.inn"><span class="small-text">${_tr("ИНН")}</span> {{node.inn}}</li>
            <li ng-show="node.okpo"><span class="small-text">${_tr("ОКПО")}</span> {{node.okpo}}</li>
        </ul>
        <div class="node-entry" ng-show="node | isLastSalesVolume"><span class="small-text">${_tr("Объём продаж за последний год")}</span> {{node | lastSalesVolume | number:0}}&nbsp;${_tr("тыс. руб.")}</div>
        <div class="node-entry" ng-show="node | isBalance"><span class="small-text">${_tr("Финансовая отчётность")}</span> {{node | balanceByPeriod}}</div>

        <ul class="inline small-text">
            <li ng-show="node._info.in['FOUNDER_INDIVIDUAL'] && node._info.in['FOUNDER_COMPANY']"><ng-pluralize count="count = node._info.in['FOUNDER_INDIVIDUAL'] + node._info.in['FOUNDER_COMPANY']" when="${_tr("NG_PLURALIZE::RELATION_FOUNDER")}"></ng-pluralize></li>
            <li ng-show="node._info.in['FOUNDER_INDIVIDUAL'] && node._info.in['FOUNDER_INDIVIDUAL'] !== 1 && node._info.in['FOUNDER_INDIVIDUAL'] === (node._info.in['FOUNDER_INDIVIDUAL'] + node._info.in['FOUNDER_COMPANY'])"><ng-pluralize count="count = node._info.in['FOUNDER_INDIVIDUAL']" when="${_tr("NG_PLURALIZE::RELATION_FOUNDER_INDIVIDUAL")}"></ng-pluralize></li>
            <li ng-show="node._info.in['FOUNDER_INDIVIDUAL'] && node._info.in['FOUNDER_INDIVIDUAL'] === 1 && node._info.in['FOUNDER_INDIVIDUAL'] === (node._info.in['FOUNDER_INDIVIDUAL'] + node._info.in['FOUNDER_COMPANY'])">${_tr("Учредитель — физическое лицо")}</li>
            <li ng-show="node._info.in['FOUNDER_COMPANY'] && node._info.in['FOUNDER_COMPANY'] !== 1 && node._info.in['FOUNDER_COMPANY'] === (node._info.in['FOUNDER_INDIVIDUAL'] + node._info.in['FOUNDER_COMPANY'])"><ng-pluralize count="count = node._info.in['FOUNDER_COMPANY']" when="${_tr("NG_PLURALIZE::RELATION_FOUNDER_COMPANY")}"></ng-pluralize></li>
            <li ng-show="node._info.in['FOUNDER_COMPANY'] && node._info.in['FOUNDER_COMPANY'] === 1 && node._info.in['FOUNDER_COMPANY'] === (node._info.in['FOUNDER_INDIVIDUAL'] + node._info.in['FOUNDER_COMPANY'])">${_tr("Учредитель — компания")}</li>

            <li ng-show="node._info.out['FOUNDER_COMPANY']"><ng-pluralize count="count = node._info.out['FOUNDER_COMPANY']" when="${_tr("NG_PLURALIZE::RELATION_SUBSIDIARY_COMPANY")}"></ng-pluralize></li>

            <li ng-show="node._info.out['HEAD_COMPANY']"><ng-pluralize count="count = node._info.out['HEAD_COMPANY']" when="${_tr("NG_PLURALIZE::RELATION_BRANCH_COMPANY")}"></ng-pluralize></li>

            <li ng-show="node._info.in['PREDECESSOR_COMPANY']"><ng-pluralize count="count = node._info.in['PREDECESSOR_COMPANY']" when="${_tr("NG_PLURALIZE::RELATION_PREDECESSOR_COMPANY")}"></ng-pluralize></li>
            <li ng-show="node._info.out['PREDECESSOR_COMPANY']"><ng-pluralize count="count = node._info.out['PREDECESSOR_COMPANY']" when="${_tr("NG_PLURALIZE::RELATION_SUCCESSOR_COMPANY")}"></ng-pluralize></li>
        </ul>

        <span np-rsearch-node-target-relations-info></span>
    </div>

    <div ng-if="node._type === 'INDIVIDUAL'">
        <div class="node-header">{{node.name}}</div>

        <ul class="inline small-text">
            <li ng-show="node._info.out['FOUNDER_INDIVIDUAL']"><ng-pluralize count="count = node._info.out['FOUNDER_INDIVIDUAL']" when="${_tr("NG_PLURALIZE::RELATION_SUBSIDIARY_COMPANY")}"></ng-pluralize></li>
            <li ng-show="node._info.out['EXECUTIVE_INDIVIDUAL']"><ng-pluralize count="count = node._info.out['EXECUTIVE_INDIVIDUAL']" when="${_tr("NG_PLURALIZE::RELATION_LEAD_COMPANY")}"></ng-pluralize></li>
        </ul>

        <span np-rsearch-node-target-relations-info></span>
    </div>

    <div ng-if="node._type === 'ADDRESS'">
        <div class="node-header">{{node.value}}</div>

        <ul class="inline small-text">
            <li ng-show="node._info.out['ADDRESS']"><ng-pluralize count="count = node._info.out['ADDRESS']" when="${_tr("NG_PLURALIZE::RELATION_COMPANY")}"></ng-pluralize></li>
        </ul>

        <!--<span np-rsearch-node-target-relations-info></span>-->
    </div>

    <div ng-if="node._type === 'PHONE'">
        <div class="node-header">{{node.value}}</div>

        <ul class="inline small-text">
            <li ng-show="node._info.out['PHONE']"><ng-pluralize count="count = node._info.out['PHONE']" when="${_tr("NG_PLURALIZE::RELATION_COMPANY")}"></ng-pluralize></li>
        </ul>

        <!--<span np-rsearch-node-target-relations-info></span>-->
    </div>
</div>
